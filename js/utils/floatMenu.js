!function(a,b){if("undefined"!=typeof module)require("../libs/offset"),module.exports=b(a);else if(b(a),"function"==typeof define&&(define.amd||define.cmd)){var c="//"+(/ppppoints.com/.test(document.domain)?"j.ppppoints.com":"j.changyoyo.com")+"/static/js/";requirejs.config({paths:{offset:c+"libs/offset"}}),define("floatMenu",["offset"],function(){return b(a)})}}(window||this,function(a){var b,c,f,h,i,j,k,l,m,n,o,p,q,r;return!a.CY&&(a.CY={}),a.CY.floatMenu?a.CY.floatMenu:(b=document,c="px",b.documentElement,f=function(a,b){return a&&a instanceof Object?a:a?(b||document).querySelector(a):null},h=function(a){return Object.prototype.toString.call(a).split(/\s(\w+)/)[1].toLowerCase()},i=[],j=function(a,b,c){l("array"!=h(a)?[a]:a,function(a,d){b.split(" ").forEach(function(a){d.addEventListener(a,c,{passive:!1}),i.push({elem:d,type:a,handle:c})})})},k=function(a,b,c){b.split(" ").forEach(function(b){a.removeEventListener(b,c);for(var e,d=i.length-1;d>=0;d--)e=i[d],e.elem==a&&e.type==b&&e.handle==c&&i.splice(d,1)})},l=function(a,b){a=a||[];for(var c=0,d=a.length;d>c&&0!=b.call(a[c],c,a[c]);c++);},m=function(a,c){return a=b.createElement(a),o(a.style,c||{}),a},n=function(b,c){return a.getComputedStyle?a.getComputedStyle(b,null)[c]:b.currentStyle[c]},o=function(a,b){for(var c in b)b.hasOwnProperty(c)&&("object"!=h(b[c])?void 0!=b[c]&&(a[c]=b[c]):a[c]=o(a[c]||{},b[c]));return a},p=function(a){var b={},d=a.documentElement,c=function(){if(void 0!=b.boxModel)return b.boxModel;var c=a.createElement("div");return c.style.width=c.style.paddingLeft="1px",a.body.appendChild(c),b.boxModel=2===c.offsetWidth,a.body.removeChild(c).style.display="none",b.boxModel};return l(["Height","Width"],function(c,e){b[e.toLowerCase()]=function(b){return b=f(b),b==window?"CSS1Compat"==a.compatMode&&d["client"+e]||a.body["client"+e]:b==document?Math.max(d["client"+e],a.body["scroll"+e],d["scroll"+e],a.body["offset"+e],d["offset"+e]):b["offset"+e]}}),l(["Left","Top"],function(e,g){var h="scroll"+g;b[h]=function(b){return b=f(b),b==window||b==a?b[e?"pageYOffset":"pageXOffset"]||c()&&d[h]||a.body[h]:b[h]}}),b}(document),q=function(){if(void 0!=q.boxModel)return q.boxModel;var a=b.createElement("div");return a.style.width=a.style.paddingLeft="1px",b.body.appendChild(a),q.boxModel=2===a.offsetWidth,b.body.removeChild(a).style.display="none",q.boxModel},r=function(d,e){var g,l,s,t,u,v,x,y,z,A;return this instanceof r?(t=[],u=!0,v=window,e=o({top:0,container:window,onShowFloat:function(){},onHideFloat:function(){},onChange:function(){}},e||{}),(d=f(d))?(t.push(e.onChange),e.container!=window&&(v=f(e.container),u=!1),x=f(e.container),y=null,z=n(d,"top"),A=function(a){return a=(a||"0").replace(/[^-|.|\d]/g,""),Math.abs(a>0?0:a)},s={scroll:function(){var f,i,k;if(d&&!(d.offsetHeight<1))if(f=v==window?b.documentElement.scrollTop||0:A(n(v,"top")),y=g?a.CY.offset(g).top+(q()?0:f):a.CY.offset(d).top+(q()?0:f),t.forEach(function(a){var b=a();"number"==h(b)&&(e.top=b)}),i=e.top,d.offsetHeight,k=u?p.scrollTop(v):A(n(v,"top")),k+i>=y){if(g)return;l=n(d,"position"),g=m("div",{width:d.offsetWidth+c,height:d.offsetHeight+c}),d.parentNode.insertBefore(g,d),o(d.style,{top:i+c,width:d.offsetWidth+c,position:"fixed"}),d.classList.add("isFixed"),e.onShowFloat()}else g&&(o(d.style,{top:z,position:l}),g.parentNode.insertBefore(d,g),g.parentNode.removeChild(g),d.classList.remove("isFixed"),g=null,e.onHideFloat())},change:function(a){t.push(a)},destroy:function(){for(var b,a=i.length-1;a>=0;a--)b=i[a],k(b.elem,b.type,b.handle)}},j(x,"scroll resize",s.scroll),s.scroll(),s):void 0):new r(d,e)},a.CY.floatMenu=r,a.CY.floatMenu)});