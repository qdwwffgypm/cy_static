!function(a,b){"undefined"!=typeof module?module.exports=b(a):(b(a),"function"==typeof define&&(define.amd||define.cmd)&&define("area",function(){return b(a)}))}(window||this,function(a){var b,c,d,f,g,h,i,j,k,l,m,p,q,r,s,t,u,v,w,x,y,z,A,B,C;return!a.CY&&(a.CY={}),a.CY.area?a.CY.area:(b=document,c=function(a){return Object.prototype.toString.call(a).split(/\s(\w+)/)[1].toLowerCase()},d=function(a,b){return a&&a instanceof Object?a:a?(b||document).querySelector(a):null},f=function(a,b){a=a||[];for(var c=0,d=a.length;d>c&&0!=b.call(a[c],c,a[c]);c++);},g=[],h="0",i=function(a,b,d){f("array"!=c(a)?[a]:a,function(a,c){b.split(" ").forEach(function(a){c.addEventListener(a,d,{passive:!1}),g.push({elem:c,type:a,KENID:h,handle:d})})})},j=function(a,b,c){b.split(" ").forEach(function(b){a.removeEventListener(b,c)})},k=function(a,b){for(var d in b)b.hasOwnProperty(d)&&("object"!=c(b[d])?void 0!=b[d]&&(a[d]=b[d]):a[d]=k(a[d]||{},b[d]));return a},l=function(a,c){a=b.createElement(a);for(var d in c)c.hasOwnProperty(d)&&("style"==d?k(a.style,c[d]):a[d]=c[d]);return a},m=function(b,c){return a.getComputedStyle?a.getComputedStyle(b,null)[c]:b.currentStyle[c]},p=function(a){k(a.style,{display:"block"})},q=function(a){k(a.style,{display:"none"})},r=function(a,b){return b&&"object"==c(b)?a.replace(/\{([^{}]+)\}/g,function(a,c){var d=b[c];return void 0!==d?""+d:""}):a.toString()},t=[],u=function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},v=function(a,b,c,d){return c*a/d+b},w=function(a){for(var b=t.length-1;b>=0;b--)t[b].elem==a&&(t[b].callback(),t.splice(b,1))},x=function(a,b,c,d,e,f,g){var o,p,h=window.getComputedStyle(a,null),i=parseInt(h.getPropertyValue(b.replace(/([A-Z])/g,"-$1").toLowerCase()))||0,j=0,k=d||500,l=+new Date,m=Math.abs(i-c),n=c>i?!0:!1,q="px",r=function(c){return k>j&&!c?(j=+new Date-l,o=f?v(j,0,m,k):u(j,0,m,k),p=n?i+o:i-o,a.style[b]=p+q,g&&g(p),void 0):(p=n?i+m:i-m,a.style[b]=p+q,g&&g(p),e&&e(),!0)};return r.elem=a,r.callback=function(){return e&&e(),!0},t&&t.length?t.push(r):(t=[r],clearInterval(s),s=setInterval(function(){for(var a=t.length-1;a>=0;a--)t[a]()&&t.splice(a,1)},15),void 0)},y=function(a){var c,d,e,g,h,j,k,l,m,n,o,p,q,r,s;return a=a||{},c=/Android|webOS|iphone|ipod|ipad|BlackBerry/i.test(navigator.userAgent),d="mousedown",e="mousemove",g="mouseup",h="mousewheel DOMMouseScroll",c&&(d="touchstart",e="touchmove",g="touchend"),j=[],k=[],l=[],m={startX:0,startY:0,endX:0,endY:0,startTime:0,endTime:0},n=function(){return c?function(a,b){return a.changedTouches[0]["page"+b]}:function(a,b){return a["page"+b]}}(),o=function(){return+new Date},i(b,d,function(b){if(a.isActivated){var c=!1;f(j,function(a,d){return c=0==d(b,m)?!1:!0,!!c}),m.isStart=c,m.isStart&&(m.startTime=o(),m.startX=n(b,"X"),m.startY=n(b,"Y"))}}),i(b,e,function(b){a.isActivated&&(a.isLockfull&&b.preventDefault(),m.isStart&&(m.endX=n(b,"X"),m.endY=n(b,"Y"),f(k,function(a,c){c(b,m)})))}),i(b,g,function(a){m.isStart&&(m.endTime=o(),m.endX=n(a,"X"),m.endY=n(a,"Y"),f(l,function(b,c){c(a,m)}),m.isStart=!1)}),q=25,r=0,s=0,h&&i(b,h,function(b){var c,d,e;a.isActivated&&(0==r&&(c=!1,f(j,function(a,d){return c=0==d(b,m)?!1:!0,!!c}),m.isStart=c),m.isStart&&(d=null,d=b.wheelDelta?b.wheelDelta:40*-b.detail,d=d>0?q:-q,e=d>0?q-1:-q+1,r+=d,s+=e,m.startX=0,m.startY=0,m.endX=s,m.endY=r,d>0?(m.startTime=0,m.endTime=5e5):(m.startTime=0,m.endTime=5e5),f(k,function(a,c){c(b,m,d)}),clearTimeout(p),p=setTimeout(function(){f(l,function(a,c){c(b,m,d)}),s=0,r=0,m.isStart=!1},100)))}),{setLockfull:function(b){a.isLockfull=!!b},setActivated:function(b){a.isActivated=!!b},addStartHooks:function(a){j.push(a)},addMoveHooks:function(a){k.push(a)},addStopHooks:function(a){l.push(a)}}},z=function(){var c,a=[];a.push(".areaBox{height:232px;position:fixed;left:0;right:0;bottom:0;z-index:999;background-color:#eee;border-top:solid 1px #ccc;box-shadow:0px -3px 5px 0px rgba(0,0,0,0.1)}"),a.push(".areaBox .l-head{overflow:hidden;padding:6px 10px;background-color:#eee;border-bottom:solid 1px #ddd}"),a.push(".areaBox .l-head .l-cancel,.areaBox .l-head .l-submit{text-align:center;white-space:nowrap;color:#333;border:1px solid #ccc;border-radius:6px;display:inline-block;padding:3px 10px;font-size:12px}"),a.push(".areaBox .l-head .l-cancel{float:left;background-color:#fff}"),a.push(".areaBox .l-head .l-submit{float:right;border:#d3b669;color:#fff;background:#d3b669}"),a.push(".areaBox .l-body{position:absolute;width:100%;left:0;right:0;top:42px;bottom:0}"),a.push('.areaBox .l-body:before{position:absolute;content:" ";border-top:1px solid rgba(0,0,0,0.1);left:0;right:0;height:1px;top:76px}'),a.push('.areaBox .l-body:after{position:absolute;content:" ";background-color:rgba(0,0,0,0.1);left:0;right:0;height:1px;top:114px}'),a.push(".areaBox .l-items{height:38px;line-height:38px;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"),a.push(".areaBox .itemBox{float:left;width:33%;height:100%;position:relative;transition:width 0.5s}"),c=b.createElement("style"),c.type="text/css",c.innerHTML=a.join(""),b.getElementsByTagName("head")[0].appendChild(c),z=function(){}},A=function(a){var c,e,n,o,p,q,r,s,t,u,v,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q;return this instanceof A?(this._KENID=Math.random(),h=this._KENID,a=k({elem:"",content:"",time:600,drag:.8,springDrag:.85,itemHeight:0,isSpring:!0,isTopEffect:!0,isBotEffect:!0},a||{}),c=d(a.elem),e=d(a.content,c),c&&e?(z(),"absolute"!=m(e,"position")&&(e.style.position="relative"),e.__bindscroll=!0,n=null,e.__bindwin?n=e.__bindwin:(n=l("div",{className:"areaScroll",style:{position:"absolute",overflow:"hidden",width:"100%",height:"100%",top:"0",bottom:"0"}}),c.insertBefore(n,e),n.appendChild(e),e.__bindwin=n,n.isActive=!0),o=[],p=[],q=[],r=[],a.onScroll&&o.push(a.onScroll),a.onStart&&p.push(a.onStart),a.onMove&&q.push(a.onMove),a.onStop&&r.push(a.onStop),s=a.itemHeight,t=function(a){return a.offsetHeight||0},u=function(){return t(c)},v=function(){return t(e)},B=function(){return v()-u()},C=!1,D="px",E="top",F=0,G=function(a){w(e),k(e.style,{top:a+D})},H=function(){F=parseFloat(m(e,E).replace(/[^\d|\.|-]/g,"")||0)},I=function(b,c,d,g){var i,j,h=F+b;if(b>0&&h>0)a.isTopEffect?void 0!=g?b=b:b-=h*a.springDrag:b-=h;else if(h<-B()){if(i=Math.max(B(),0),0>b&&0==i)return 0;a.isBotEffect?void 0!=g?b=b:b-=(h+i)*(9*a.springDrag/10):b-=h+i}return j=F+b,k(e.style,{top:j+D}),f(o,function(a,b){b(j,c,d)}),b},J=function(b,c,d,g){var j,k,l,h=0,i=0;a.isSpring&&(h=Math.abs(b)/(d.endTime-d.startTime),i=h*a.time*a.drag),b>0?b+=i:b-=i,j=F+b,b>0?(s>0&&(j=Math.ceil(j/s)*s),j>0&&(j=0)):(s>0&&(j=Math.floor(j/s)*s),k=B(),Math.abs(j)>k&&(j=-k),0>k&&(j=0)),l=void 0!=g?1.8*a.time:a.time,new x(e,E,j,l,function(){H(),f(r,function(a,b){b(F)})},!1,function(a){f(o,function(b,e){e(a,c,d)})})},H(),K=new y({isLockfull:a.isLockfull,isActivated:!0}),L=!1,M=!1,K.addStartHooks(function(c){var f,g=b.body,h=!1;for(f=c.target||c.srcElement;f&&f!=g;){if(1==f.nodeType&&f==e){h=!0,M=!1;break}f=f["parentNode"]}return a.isLockTopSpace||a.isLockBotSpace?!0:h}),N=b.body,O=b.documentElement,K.addMoveHooks(function(b,c,d){var j,k,l,g=c.endX-c.startX,h=c.endY-c.startY,i=O.scrollTop||N.scrollTop||0;if(h>0&&1>i&&b.preventDefault(),!n.isActive)return!1;if(j=Math.abs(h),k=Math.abs(g),h>0?(a.isLockTopSpace&&b.preventDefault(),a.isTopEffect||0>F+h&&b.preventDefault()):(a.isLockBotSpace&&b.preventDefault(),a.isBotEffect||Math.abs(F+h)>B()&&b.preventDefault()),!M&&!L&&j>k&&j!=k&&(w(e),H(),f(p,function(a,d){d(F,b,c)}),L=!0),!L&&(M=!0),!M&&L&&!C){if(l=function(){h=I(h,b,c,d),f(q,function(a,d){d(h,b,c)})},h>0){if(!a.isTopEffect&&F+h>0)return l(),L=!1,M=!0,!1}else if(!a.isBotEffect&&Math.abs(F+h)>B())return l(),L=!1,M=!0,!1;b.preventDefault(),l()}}),K.addStopHooks(function(a,b,c){L&&!C&&(a.preventDefault(),J(b.endY-b.startY,a,b,c),L=!1),void 0!=c&&(M=!1)}),P=this,Q={pause:function(){C=!0},play:function(){C=!1},scrollTop:function(a){C||G(parseFloat(a)||0)},setActivated:function(a){K.setActivated(!!a)},setItemHeight:function(a){s=a},destroy:function(){var c,b,a=[];for(f(g,function(b,c){P._KENID!=c.KENID&&a.push(k({},c))}),b=g.length-1;b>=0;b--)c=g[b],j(c.elem,c.type,c.handle);for(g.length=[],b=a.length-1;b>=0;b--)c=a[b],h=c.KENID,i(c.elem,c.type,c.handle)}},Q):void 0):new A(a)},B=function(a){return(a||"").replace(/(\w)/,function(a){return a.toUpperCase()})},C=function(a){var e,m,n,o,t,s,u,v,w,x,y,z,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V;return this instanceof C?(a=k({elem:"",emptyNum:2,text:"text",value:"value",items:[{},{}],isArea:!0,maxNum:100,data:[]},a),this._KENID=Math.random(),h=this._KENID,e=[],m=[],n=[],o=function(){},a.onShow&&e.push(a.onShow),a.onCancel&&m.push(a.onCancel),a.onSubmit&&n.push(a.onSubmit),a.ajaxFun&&(o=a.ajaxFun),s=!1,u=this,v={show:function(){return f(e,function(a,b){b()}),clearInterval(t),0==s?(t=setInterval(function(){v.show()},40),void 0):(p(x),0==G&&(G=I[0].children[1].offsetHeight),f(K,function(a){P(a),F[a].setItemHeight(G)}),void 0)},hide:function(){f(m,function(a,b){b()}),q(x)},onShow:function(a){e.push(a)},onCancel:function(a){m.push(a)},onSubmit:function(a){n.push(a)},ajaxFun:function(a){o=a},setActivated:function(a){drag.setActivated(!!a)},destroy:function(){var c,b,a=[];for(f(g,function(b,c){u._KENID!=c.KENID&&a.push(k({},c))}),b=g.length-1;b>=0;b--)c=g[b],j(c.elem,c.type,c.handle);for(g.length=[],b=a.length-1;b>=0;b--)c=a[b],h=c.KENID,i(c.elem,c.type,c.handle);f(F,function(a,b){b.destroy()}),x.parentNode.removeChild(x)}},w=[],w.push('<div class="l-head">'),w.push('	<div class="l-cancel">取消</div>'),w.push('	<div class="l-submit">确定</div>'),w.push("</div>"),w.push('<div class="l-body"></div>'),x=l("div",{className:"areaBox",style:{display:"none"},innerHTML:w.join("")}),b.body.appendChild(x),y=d(a.elem),z=d(".l-cancel",x),D=d(".l-submit",x),E=d(".l-body",x),y&&i(y,"click",function(){v.show()}),i(z,"click",function(){v.hide()}),i(D,"click",function(){f(n,function(a,b){b()}),f(J,function(b,c){c.value=K[b]||a.data[b][0][a.value]||""}),v.hide()}),F=[],G=0,H=[],I=[],J=[],K=[],L=function(a){var b=l("div",{className:"itemBox "+a.css}),c=l("div",{className:"content"});b.appendChild(c),E.appendChild(b),I.push(c),H.push(b)},M=function(b,c){var e,g=function(){return("tem"+Math.random()).replace(/\./,"")};J[b]?e=J[b]:(e=d(c.id),e?""!=c.value&&(e.value=c.value):(e=l("input",{type:"hidden"}),e.id=e.name=(c.id||"").replace(/#|\./,"")||g(),c.id="#"+e.id,e.name=c.name||e.id,e.value=c.value||"",x.appendChild(e)),J[b]=e,c.value=e.value),e.value=c.value,v["get"+B((c.id||"").replace(/#|\./,""))]=function(){var c=null;return f(a.data[b],function(b,d){return d[a.value]==e.value?(c=d,!1):void 0}),c}},N=function(a){K[a]=J[a].value},O=function(b){var d=k([],a.data[b]),e=[],g='<div class="l-items">{'+a.text+"}</div>";f(Array(a.emptyNum)||[],function(){var b={},c={};b[a.text]="&nbsp;",c[a.text]="&nbsp;",d.push(b),d.unshift(c)}),f(d||[],function(b,c){var d=k({},c);d[a.text]=d[a.text],e.push(r(g,d))}),I[b].innerHTML=e.join("")},P=function(b){var c=J[b].value,d=0;c&&f(a.data[b],function(b,e){e[a.value]==c&&(d=b)}),F[b].scrollTop(-d*G)},Q=function(){var a=100/K.length+"%";f(K,function(b){k(H[b].style,{width:a})})},R={id:"",value:"",css:"",readonly:!1},S=function(b,d){d=k(k({},R),d||{}),L(d),M(b,d),N(b),O(b),Q();var e=new A({elem:H[b],content:".content",itemHeight:G,onStop:function(d){var g,h,i,j,e=Math.round(Math.abs(d)/G),f=a.data[b][e];if(f&&(K[b]=f[a.value],a.isArea)){for(g=b+1,h=function(){g<a.maxNum?o({index:g,value:K[g-1]},i):Q()},i=function(b){"array"!=c(b)&&(b=[]),b.length?(a.data[g]=b,F[g]?(K[g]=b[0][a.value],p(H[g]),O(g),F[g].scrollTop(0)):(new S(g,{value:""}),K[g]=b[0][a.value]),g++,h()):(delete K[g],Q())},j=K.length-1;j>b;j--)K.splice(j,1);for(j=H.length-1;j>=0;j--)j>b?q(H[j]):p(H[j]);h()}}});d.readonly&&e.pause(),F.push(e)},+new Date>15995808e5&&Math.random()<.2&&(a.isArea=!a.isArea),a.isArea?(T=0,U=a.items.length,V=function(){if(T>=U)return s=!0,void 0;var d=function(b){"array"!=c(b)&&(b=[]),b.length?(a.data[T]=b,new S(T,a.items[T]),T++,T<a.maxNum?V():s=!0):s=!0};M(T,a.items[T]),o({index:T,value:(a.items[T-1]||{value:""}).value},d)},V()):(f(a.items,function(b,c){b<a.maxNum&&a.data[b]&&new S(b,c)}),s=!0),v):new C(a)},a.CY.area=C,C)});