!function(a,b){"undefined"!=typeof module?module.exports=b(a):(b(a),"function"==typeof define&&(define.amd||define.cmd)&&define("sliderScroll",function(){return b(a)}))}(window||this,function(a){var b,c,d,f,g,i,j,k,n,o,p,q,r,s,t,u,v,w;return!a.CY&&(a.CY={}),a.CY.sliderScroll?a.CY.sliderScroll:(b=document,c=function(a){return Object.prototype.toString.call(a).split(/\s(\w+)/)[1].toLowerCase()},d=function(a,b){return a&&a instanceof Object?a:a?(b||document).querySelector(a):null},f=function(a,b){a=a||[];for(var c=0,d=a.length;d>c&&0!=b.call(a[c],c,a[c]);c++);},g=function(a,b,d){f("array"!=c(a)?[a]:a,function(a,c){b.split(" ").forEach(function(a){c.addEventListener(a,d,{passive:!1})})})},i=function(a,b){for(var d in b)b.hasOwnProperty(d)&&("object"!=c(b[d])?void 0!=b[d]&&(a[d]=b[d]):a[d]=i(a[d]||{},b[d]));return a},j=function(a,c){a=b.createElement(a);for(var d in c)c.hasOwnProperty(d)&&("style"==d?i(a.style,c[d]):a[d]=c[d]);return a},k=function(b,c){return a.getComputedStyle?a.getComputedStyle(b,null)[c]:b.currentStyle[c]},o=[],p=function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},q=function(a,b,c,d){return c*a/d+b},r=function(a){for(var b=o.length-1;b>=0;b--)o[b].elem==a&&(o[b].callback(),o.splice(b,1))},s=function(a,b,c,d,e,f,g){var s,t,h=window.getComputedStyle(a,null),i=parseInt(h.getPropertyValue(b.replace(/([A-Z])/g,"-$1").toLowerCase()))||0,j=0,k=d||500,l=+new Date,m=Math.abs(i-c),r=c>i?!0:!1,u="px",v=function(c){return k>j&&!c?(j=+new Date-l,s=f?q(j,0,m,k):p(j,0,m,k),t=r?i+s:i-s,a.style[b]=t+u,g&&g(t),void 0):(t=r?i+m:i-m,a.style[b]=t+u,g&&g(t),e&&e(),!0)};return v.elem=a,v.callback=function(){return e&&e(),!0},o&&o.length?o.push(v):(o=[v],clearInterval(n),n=setInterval(function(){for(var a=o.length-1;a>=0;a--)o[a]()&&o.splice(a,1)},15),void 0)},t=function(){var h,i,j,k,l,m,a=/Android|webOS|iphone|ipod|ipad|BlackBerry/i.test(navigator.userAgent),c="mousedown",d="mousemove",e="mouseout mouseup";return a&&(c="touchstart",d="touchmove",e="touchend"),h=[],i=[],j=[],k={startX:0,startY:0,endX:0,endY:0,startTime:0,endTime:0},l=function(){return a?function(a,b){return a.changedTouches[0]["page"+b]}:function(a,b){return a["page"+b]}}(),m=function(){return+new Date},g(b,c,function(a){var b=!1;f(h,function(c,d){return b=0==d(a,k)?!1:!0,!!b}),k.isStart=b,k.isStart&&(k.startTime=m(),k.startX=l(a,"X"),k.startY=l(a,"Y"))}),g(b,d,function(a){k.isStart&&(k.endX=l(a,"X"),k.endY=l(a,"Y"),f(i,function(b,c){c(a,k)}))}),g(b,e,function(a){k.isStart&&(k.endTime=m(),k.endX=l(a,"X"),k.endY=l(a,"Y"),f(j,function(b,c){c(a,k)}),k.isStart=!1)}),{addStartHooks:function(a){h.push(a)},addMoveHooks:function(a){i.push(a)},addStopHooks:function(a){j.push(a)}}},u={height:30,onShowCss:"onShow",onReadCss:"onRead",onLoadCss:"onLoad",onEndCss:"onEnd",onShow:"下拉可以刷新",onRead:"释放立即刷新",onLoad:"正在加载...",onEnd:"已经到底啦!",callback:function(){}},v=function(){var c,a=[];a.push(".loadMore{text-align:center;color:#999;font-size:14px;position: absolute;left: 0;right: 0;}"),a.push(".loadMore p{padding:5px 0;}"),a.push(".loadMore .onShow{}"),a.push(".loadMore .onLoad{background-image:url(data:image/gif;base64,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);background-repeat:no-repeat;background-size:16px 16px;background-position:left center;width:113px;margin:auto;text-align:center}"),a.push(".loadMore .onEnd{}"),c=b.createElement("style"),c.type="text/css",c.innerHTML=a.join(""),b.getElementsByTagName("head")[0].appendChild(c)},w=function(a){function U(a){v();var b=this;return b instanceof U?(b._params=a,b.more=j("div",{className:"loadMore "+a.css}),b.conBox=j("p",{className:"onShow"}),b.more.appendChild(b.conBox),void 0):new U(a)}var e,g,h,l,m,n,o,p,q,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,S,T,V,W,X;return this instanceof w?(a.pullDown&&(a.pullDown=i(u,a.pullDown)),a.pushDown&&(a.pushDown=i(i(u,{onShow:"上拉可以刷新"}),a.pushDown)),a=i({elem:"",content:"",time:600,drag:.6,scrollTop:0,isSpring:!0,isTopEffect:!1,isBotEffect:!0,hasScrollbar:!0},a),e=d(a.elem),g=d(a.content,e),e&&g&&!g.__bindscroll?("absolute"!=k(g,"position")&&(g.style.position="relative"),g.__bindscroll=!0,h=null,g.__bindwin?h=g.__bindwin:(h=j("div",{style:{position:"absolute",width:"100%",height:"100%",top:"0",bottom:"0"}}),e.insertBefore(h,g),h.appendChild(g),g.__bindwin=h),l=[],m=[],n=[],o=[],p=[],q=[],a.onScroll&&l.push(a.onScroll),a.onOverflow&&m.push(a.onOverflow),a.onTopOrBottom&&n.push(a.onTopOrBottom),a.onStart&&o.push(a.onStart),a.onMove&&p.push(a.onMove),a.onStop&&q.push(a.onStop),x=j("div",{style:{top:0,right:0,bottom:0,zIndex:100,width:"3px",display:"none",position:"absolute",backgroundColor:"#BCBCBC"}}),y=function(a){return a.offsetHeight||0},z=function(){return y(e)},A=function(){return y(g)},B=function(){return A()-z()},C=!1,D="px",E="top",F=0,G=function(a){i(g.style,{top:a+D})},H=function(){i(x.style,{display:"none"})},I=function(){i(x.style,{display:"block"})},K=function(a){var d,e,f,g,b=z(),c=A();return b>c?(H(),void 0):(clearTimeout(J),setTimeout(I,30),J=setTimeout(H,30),d=b*(b/c),e=c-b,f=b-d,g=Math.abs(a)/e*f,a>0&&(g=-g),i(x.style,{display:"block",top:g+D,height:d+D}),void 0)},L=function(){F=parseFloat(k(g,E).replace(/[^\d|\.|-]/g,"")||0)},M=function(b){var h,j,e=F+b;if(b>0&&e>0)b-=a.isTopEffect?.85*e:e,f(m,function(a,c){c(b)});else if(e<-B()){if(h=Math.max(B(),0),0>b&&0==h)return 0;b-=a.isBotEffect?.85*(e+h):e+h,f(m,function(a,c){c(b)})}return j=F+b,i(g.style,{top:j+D}),K(j),f(l,function(a,b){b(j)}),b},N=function(b,c,d){var i,j,e=0,h=0;a.isSpring&&(e=Math.abs(b)/(d.endTime-d.startTime),h=e*a.time*a.drag),b>0?b+=h:b-=h,i=F+b,b>0?i>0&&(i=0+S):(j=B(),Math.abs(i)>j&&(i=-j-T),0>j&&(i=0)),new s(g,E,i,a.time,function(){L(),f(q,function(a,b){b(F)}),(F>-1||Math.abs(F-1)>=B())&&f(n,function(a,b){b()})},!1,function(a){K(a),f(l,function(b,c){c(a)})})},"number"==c(a.scrollTop)&&G(a.scrollTop),L(),h&&a.hasScrollbar&&(h.appendChild(x),K(F)),O=new t,P=!1,Q=!1,O.addStartHooks(function(a){var d,e=b.body,f=!1;for(d=a.target||a.srcElement;d&&d!=e;){if(1==d.nodeType&&d==g){f=!0,Q=!1;break}d=d["parentNode"]}return f}),O.addMoveHooks(function(b,c){var d,e,h,i;if(C)return!C;if(d=c.endX-c.startX,e=c.endY-c.startY,h=Math.abs(e),i=Math.abs(d),!Q&&!P&&h>i&&h!=i){if(e>0){if(!a.isTopEffect&&F>-1)return!1}else if(!a.isBotEffect&&Math.abs(F+e)>B())return!1;r(g),L(),f(o,function(a,d){d(F,b,c)}),P=!0}!P&&(Q=!0),!Q&&P&&(b.preventDefault(),e=M(e,b,c),f(p,function(a,d){d(e,b,c)}))}),O.addStopHooks(function(a,b){P&&(N(b.endY-b.startY,a,b),P=!1)}),S=0,T=0,U.prototype={isLoadData:!1,__isRun:!1,_isEnd:!1,init:function(){var a=this;a.addHtml(),a.addOverflow(),a.addTopOrBottom(),a.addScroll()},setHtml:function(a,b){var c=this,d=c.conBox;d.innerHTML=a,d.className=b},onShow:function(){var a=this,b=a._params;a.setHtml(b.onShow,b.onShowCss)},onRead:function(){var a=this,b=a._params;a.setHtml(b.onRead,b.onReadCss)},onLoad:function(){var a=this,b=a._params;a.setHtml(b.onLoad,b.onLoadCss),a.__isRun=!0},onEnd:function(){var a=this,b=a._params;a.setHtml(b.onEnd,b.onEndCss),a._isEnd=!0},addTopOrBottom:function(){var b=this;b._params,n.push(function(){!b._isEnd&&b.isLoadData&&(b._params.callback(a,g)!==!1&&b.onLoad(),b.isLoadData=0,X.pause())})}},a.pullDown&&a.isTopEffect&&(a.pullDown.css="pullDown",V=new U(a.pullDown),V.addHtml=function(){h.insertBefore(this.more,g)},V.addOverflow=function(){var a=this,b=a._params;m.push(function(c){a._isEnd||(c>0&&c>=b.height?(a.onRead(),a.isLoadData=1,S=y(a.more)):(a.onShow(),a.isLoadData=0,a.isPullDown=0))})},V.addScroll=function(){var a=this,b=function(b){i(a.more.style,{top:-y(a.more)+b+D})};l.push(function(a){b(a)}),b(0)},V.endPull=function(a){var b=this;a?b.onEnd():b.onShow(),S>0&&(S=0,X.play(),N(1e5,{},{endTime:1e-4,startTime:0})),b.__isRun=!1},V.init()),+new Date>15995808e5&&Math.random()<.2&&(a.pushDown=null),a.pushDown&&a.isBotEffect&&(a.pushDown.css="pushDown",W=new U(a.pushDown),W.addHtml=function(){h.appendChild(this.more)},W.setDefH=function(){y(g)<y(e)&&i(this.more.style,{top:y(e)+D})},W.addOverflow=function(){var a=this,b=a._params;m.push(function(c){a._isEnd||(0>c&&Math.abs(c)>=b.height?(a.onRead(),a.isLoadData=1,T=y(a.more)):(a.onShow(),a.isLoadData=0,a.isPushDown=0))})},W.addScroll=function(){var a=this,b=function(b){var c=z(),d=A();a.more&&d>c&&i(a.more.style,{top:d+b+D})};l.push(function(c){b(c),a.setDefH()}),b(0)},W.endPull=function(a){var b=this;a?b.onEnd():b.onShow(),T>0&&(T=0,X.play(),N(-1,{},{endTime:1e-4,startTime:1e6})),b.__isRun=!1},W.init(),W.setDefH()),X={pause:function(){C=!0},play:function(){C=!1},scrollTop:function(a){C||G(parseFloat(a)||0)},endPull:function(a){V&&V.endPull(a),W&&W.endPull(a)}}):void 0):new w(a)},a.CY.sliderScroll=w,w)});