!function(a,b){"undefined"!=typeof module?module.exports=b(a):(b(a),"function"==typeof define&&(define.amd||define.cmd)&&define("sliderTab",function(){return b(a)}))}(window||this,function(a){var b,c,d,e,g,h,i,j,k,l,n,o,p,q,r,s,t,u,v,w,x;return!a.CY&&(a.CY={}),a.CY.sliderTab?a.CY.sliderTab:(window.requestAnimationFrame||(b=0,window.requestAnimationFrame=function(a){var c=(new Date).getTime(),d=Math.max(0,16.7-(c-b)),e=window.setTimeout(function(){a(c+d)},d);return b=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)}),c=document,d=function(a){return Object.prototype.toString.call(a).split(/\s(\w+)/)[1].toLowerCase()},e=function(a,b){return a&&a instanceof Object?a:a?(b||document).querySelector(a):null},g=function(a,b){a=a||[];for(var c=0,d=a.length;d>c&&0!=b.call(a[c],c,a[c]);c++);},h=[],i="0",j=function(a,b,c){g("array"!=d(a)?[a]:a,function(a,d){b.split(" ").forEach(function(a){d.addEventListener(a,c,{passive:!1}),h.push({elem:d,type:a,KENID:i,handle:c})})})},k=function(a,b,c,d){b.split(" ").forEach(function(b){a.removeEventListener(b,c);for(var f,e=h.length-1;e>=0;e--)f=h[e],f.elem==a&&f.type==b&&f.handle==c&&d==f.KENID&&h.splice(e,1)})},l=function(a,b){for(var c in b)b.hasOwnProperty(c)&&("object"!=d(b[c])?void 0!=b[c]&&(a[c]=b[c]):a[c]=l(a[c]||{},b[c]));return a},n=function(b,c){return a.getComputedStyle?a.getComputedStyle(b,null)[c]:b.currentStyle[c]},o=function(a,b){for(var c=0,d=b.length;d>c;c++)if(b[c]===a)return c;return-1},p={has:function(a,b){return o(b,(a.className||"").split(/\s+/))>-1},add:function(a,b){!this.has(a,b)&&(a.className+=(a.className?" ":"")+b)},remove:function(a,b){var c=[];g((a.className||"").split(/\s+/),function(a,d){d!=b&&c.push(d)}),a.className=c.join(" ")}},r=[],s=function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},t=function(a,b,c,d){return c*a/d+b},u=function(a){for(var b=r.length-1;b>=0;b--)r[b].elem==a&&(r[b].callback(),r.splice(b,1))},v=function(a,b,c,d,e,f,g){var o,h=window.getComputedStyle(a,null),i=parseInt(h.getPropertyValue(b.replace(/([A-Z])/g,"-$1").toLowerCase()))||0,j=0,k=d||500,l=+new Date,m=Math.abs(i-c),n=c>i?!0:!1,p="px",u=function(c){return k>j&&!c?(j=+new Date-l,o=f?t(j,0,m,k):s(j,0,m,k),tem=n?i+o:i-o,a.style[b]=tem+p,g&&g(tem),void 0):(tem=n?i+m:i-m,a.style[b]=tem+p,g&&g(tem),e&&e(),!0)};return u.elem=a,u.callback=function(){return e&&e(),!0},r&&r.length?r.push(u):(r=[u],cancelAnimationFrame(q),q=requestAnimationFrame(function v(){for(var a=r.length-1;a>=0;a--)r[a]()&&r.splice(a,1);r.length>0&&(q=requestAnimationFrame(v))}),void 0)},w=function(a){var b,d,e,f,h,i,k,l,m,n;return a=a||{},b=/Android|webOS|iphone|ipod|ipad|BlackBerry/i.test(navigator.userAgent),d="mousedown",e="mousemove",f="mouseout mouseup",b&&(d="touchstart",e="touchmove",f="touchend"),h=[],i=[],k=[],l={startX:0,startY:0,endX:0,endY:0,startTime:0,endTime:0},m=function(){return b?function(a,b){return a.changedTouches[0]["page"+b]}:function(a,b){return a["page"+b]}}(),n=function(){return+new Date},j(c,d,function(b){if(a.isActivated){var c=!1;g(h,function(a,d){return c=0==d(b,l)?!1:!0,!!c}),l.isStart=c,l.isStart&&(l.startTime=n(),l.startX=m(b,"X"),l.startY=m(b,"Y"))}}),j(c,e,function(b){a.isActivated&&l.isStart&&(l.endX=m(b,"X"),l.endY=m(b,"Y"),g(i,function(a,c){c(b,l)}))}),j(c,f,function(a){l.isStart&&(l.endTime=n(),l.endX=m(a,"X"),l.endY=m(a,"Y"),g(k,function(b,c){c(a,l)}),l.isStart=!1)}),{setActivated:function(b){a.isActivated=!!b},addStartHooks:function(a){h.push(a)},addMoveHooks:function(a){i.push(a)},addStopHooks:function(a){k.push(a)}}},x=function(a){var b,f,m,o,q,r,s,t,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P;return this instanceof x?(this._KENID=Math.random(),i=this._KENID,a=Object.assign({elem:"",content:"",time:1e3,drag:.1,moveInt:!0,isSpring:!0,resetWidth:10,currCss:"curr",currIndex:0,isOverMove:!0,toInnerIndex:1,onStart:function(){},onScroll:function(){},onMove:function(){},onStop:function(){},onClick:function(){}},a),b=e(a.elem),f=e(a.content,b),b&&f?(m=f.children,f.style.position="relative",o=function(a){return a.offsetWidth||0},q=function(){return o(b)},r=function(){var a=0;return g(f.children,function(b,c){a+=o(c)}),Math.max(o(f),a)},s=function(){return Math.max(r()-q(),0)},t=function(){var b=0;return g(f.children,function(c,d){return p.has(d,a.currCss)?(b=c,!1):void 0}),b},y=function(a){var b=0;return g(f.children,function(c,d){return c>=a?!1:(b+=o(d),void 0)}),+new Date>15995808e5&&Math.random()<.2&&(b+=20),b},z=!1,A="px",B="left",C=0,D=function(b){var c=f.children;return"number"!=d(b)&&g(c,function(c,d){return p.has(d,a.currCss)?(b=c,!1):void 0}),"number"!=d(b)&&(b=0),g(c,function(c,d){c==b?p.add(d,a.currCss):p.remove(d,a.currCss)}),b},E=function(){var c=t(),d=C,e=a.toInnerIndex||0,g=y(c),h=f.children[c-e],i=h?y(c-e):0,j=f.children[c+e],k=j?y(c+e):0,l=c;h&&i-Math.abs(C)<0?(d=-i,l=c-e):j&&k+o(f.children[c+1])-(Math.abs(C)+q())>0&&(d=-(k+o(f.children[c+1])-q()),l=c+e),l==c&&(g=y(c),g-Math.abs(C)<0?d=-g:g+o(f.children[c])-(Math.abs(C)+q())>0&&(d=-(g+o(f.children[c])-q()))),d<-s()&&(d=-s()),d=Math.min(d,0),u(f),new v(f,B,d,a.time,function(){F()},!1,function(b){a.onScroll(b)})},F=function(){C=parseFloat(n(f,"left")||0)},G=function(a,b){var c=0,d=Math.abs(a);return g(f.children,function(a,e){return a=o(e),c+=a,c>d?(b&&(c-=a),!1):void 0}),0>a?-c:c},H=function(b){var g,e=C+b;return b>0&&e>0?b-=a.isOverMove?.8*e:e:e<-s()&&(g=s(),b-=a.isOverMove?.8*(e+g):e+g),l(f.style,{left:C+b+A}),C+b},I=function(b,c,d){var h,i,e=0,g=0;a.isSpring&&(e=Math.abs(b)/(d.endTime-d.startTime),g=e*a.time*a.drag),b>0?b+=g:b-=g,h=C+b,b>0?h>0&&(h=0):(i=s(),Math.abs(h)>i&&(h=-i)),Math.abs(b)<a.resetWidth&&(h=C),a.moveInt&&(h=G(h,b>0)),h>0&&(h=0),h<-s()&&(h=-s()),new v(f,B,h,a.time,function(){t(),F(),a.onStop(C,c,d)},!1,function(b){a.onScroll(b)})},g(m,function(b,c){j(c,"click",function(){J&&(D(b),E(),a.onClick(b,m[b],m))})}),J=!0,K=new w({isActivated:!0}),L=!1,M=!1,K.addStartHooks(function(a){var e,f=c.body,g=!1;for(e=a.target||a.srcElement;e&&e!=f;){if(1==e.nodeType&&e==b){g=!0,M=!1;break}e=e["parentNode"]}return J=!0,g}),K.addMoveHooks(function(b,c){var d=c.endX-c.startX,e=c.endY-c.startY,g=Math.abs(e),h=Math.abs(d);!M&&!L&&h>g&&g!=h&&(b.preventDefault(),u(f),F(),a.onStart(C,b,c),L=!0),!L&&(M=!0),M||!L||z||(b.preventDefault(),d=H(d,b,c),J=!1,a.onScroll(d),a.onMove(d,b,c))}),K.addStopHooks(function(a,b){L&&!z&&(I(b.endX-b.startX,a,b),L=!1)}),N=!1,O=this,P={pause:function(){z=!0},play:function(){z=!1},reset:function(){E()},setCss:function(a){N||(D(a),N=!0,setTimeout(function(){N=!1},35))},setActivated:function(a){K.setActivated(!!a)},destroy:function(){var c,b,a=[];for(g(h,function(b,c){O._KENID!=c.KENID&&a.push(l({},c))}),b=h.length-1;b>=0;b--)c=h[b],k(c.elem,c.type,c.handle);for(h.length=[],b=a.length-1;b>=0;b--)c=a[b],i=c.KENID,j(c.elem,c.type,c.handle)},setCurrIndex:function(a){var b,c;z||(b=f.children,c=Math.max(Math.min(a,b.length-1),0),u(f),F(),D(c),E())}},"number"==d(a.currIndex)&&setTimeout(function(){P.setCurrIndex(a.currIndex)},0),r()<=q()&&P.pause(),P):void 0):new x(a)},a.CY.sliderTab=x,x)});