!function(a,b){"undefined"!=typeof module?module.exports=b(a):(b(a),"function"==typeof define&&(define.amd||define.cmd)&&define("sliderUtil",function(){return b(a)}))}(window||this,function(a){var b,c,e,f,g,h,j,k,l,m,n,o,p,q,r,s,t;return!a.CY&&(a.CY={}),a.CY.sliderUtil?a.CY.sliderUtil:(b="px",c=document,e=function(a,b){return a&&a instanceof Object?a:a?(b||document).querySelector(a):null},f=function(a){return Object.prototype.toString.call(a).split(/\s(\w+)/)[1].toLowerCase()},g=function(a,b){a=a||[];for(var c=0,d=a.length;d>c&&0!=b.call(a[c],c,a[c]);c++);},h=function(a,b,c){g("array"!=f(a)?[a]:a,function(a,d){b.split(" ").forEach(function(a){d.addEventListener(a,c,{passive:!1})})})},j=function(a,b){for(var c in b)b.hasOwnProperty(c)&&("object"!=f(b[c])?void 0!=b[c]&&(a[c]=b[c]):a[c]=j(a[c]||{},b[c]));return a},k=function(b,c){return a.getComputedStyle?a.getComputedStyle(b,null)[c]:b.currentStyle[c]},l=function(a,b){return a=c.createElement(a),b&&(a.className=b),a},m=function(a){var l,m,n,o,p,q,r,s,t,u,v,w,x,y,d=/Android|webOS|iphone|ipod|ipad|BlackBerry/i.test(navigator.userAgent),f="mousedown",g="mousemove",i="mouseout";return d&&(f="touchstart",g="touchmove",i="touchend"),a=j({drag:.1,time:1e3,attr:"left",elem:"",content:"",resetWidth:10},a||{}),a.elem=e(a.elem),a.content=e(a.content,a.elem),a.elem&&a.content?(a.content.style.position="relative",l=[],m=[],n=[],o={startPageX:0,endPageX:0,startPageY:0,endPageY:0,startX:0,startTime:0,endTime:0,isStart:!1,winWidth:0,maxScrWidth:0,scrWidth:0},q=!1,r="left"==a.attr,s=function(){var b="offset"+(r?"Width":"Height");return function(a){return a[b]}}(),t=function(){return d?function(a,b){return a.changedTouches[0]["page"+b]}:function(a,b){return a["page"+b]}}(),u=function(){return+new Date},p=a.content.children,o.winWidth=s(a.elem),o.scrWidth=s(p[0]),v=Math.max(s(a.content),p.length*o.scrWidth),w=parseFloat(k(a.elem,"paddingLeft")||0)+parseFloat(k(a.elem,"paddingRight")||0),o.maxScrWidth=v-o.winWidth+w,x=document.createElement("div"),o.maxScrWidth>0&&(j(x.style,{position:"absolute",left:0,top:0,right:0,bottom:0,opacity:.1,zIndex:1,backgroundColor:"#fff"}),y=!1,h(c,f,function(b){l.forEach(function(c){c(o,a,b)}),o.isStart&&(q=!1,y=!1,o.startTime=u(),o.startPageX=t(b,"X"),o.startPageY=t(b,"Y"),o.startX=parseFloat(k(a.content,a.attr)||0))}),h(c,g,function(c){var d,e,f,g,h,i;o.isStart&&!y&&(o.endPageX=t(c,"X"),o.endPageY=t(c,"Y"),d=o.endPageX-o.startPageX,e=o.endPageY-o.startPageY,f=Math.abs(e),g=Math.abs(d),!q&&g>f&&f!=g&&(c.preventDefault(),q=!0),m.forEach(function(b){b(o,a,c)}),q||(y=!0),!y&&q&&(h={},i=0,i=o.endPageX-o.startPageX,h[a.attr]=o.startX+i+b,j(a.content.style,h),!x.parentNode&&a.content.appendChild(x),c.preventDefault()))}),h(c,d?i:i+" mouseup",function(b){o.isStart&&q&&(b.preventDefault(),o.isStart=!1,o.endTime=u(),o.endPageX=t(b,"X"),n.forEach(function(c){c(o,a,b)}),x.parentNode&&x.parentNode.removeChild(x))})),{params:a,__params:o,addStartHooks:function(a){l.push(a)},addMoveHooks:function(a){m.push(a)},addStopHooks:function(a){n.push(a)}}):void 0},o=[],p=function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},q=function(a,b,c,d){return c*a/d+b},r=function(a){for(var b=o.length-1;b>=0;b--)o[b].elem==a&&(o[b].callback(),o.splice(b,1))},s=function(a,b,c,d,e,f){var r,g=window.getComputedStyle(a,null),h=parseInt(g.getPropertyValue(b.replace(/([A-Z])/g,"-$1").toLowerCase()))||0,i=0,j=d||500,k=+new Date,l=Math.abs(h-c),m=c>h?!0:!1,s="px",t=function(c){return j>i&&!c?(i=+new Date-k,r=f?q(i,0,l,j):p(i,0,l,j),a.style[b]=(m?h+r:h-r)+s,void 0):(a.style[b]=(m?h+l:h-l)+s,e&&e(),!0)};return t.elem=a,t.callback=function(){return e&&e(),!0},o&&o.length?o.push(t):(o=[t],clearInterval(n),n=setInterval(function(){for(var a=o.length-1;a>=0;a--)o[a]()&&o.splice(a,1)},15),void 0)},t=function(a){a=j({delay:800,moveInt:!0,isSpring:!0,realSrc:"realSrc",isOverMove:!0,onChange:function(){}},a||{});var d=!1,f=function(){};return setTimeout(function(){var j,k,n,o,p,q,t,u,v,x,y,w,A,z,B,C,D,E,F,G,H,i=new m(a);if(i.params&&(a=i.params,j=i.__params,k=a.isLoop,n=0,o=a.content.children,p=o.length,q=function(){n=Math.round(n),y&&y(),A&&A()},!(2>p))){if(k){if(!a.elem||!a.content)return;t=o[0].cloneNode(!0),u=o[p-1].cloneNode(!0),a.content.insertBefore(u,o[0]),a.content.appendChild(t),v="_lazyloadtem",g(t.querySelectorAll("img"),function(a,b){b.removeAttribute(v)}),g(u.querySelectorAll("img"),function(a,b){b.removeAttribute(v)}),a.content.style[a.attr]=-j.scrWidth+b}if(w=a.isShowNum,w&&(y=function(){x.innerHTML="<b>"+(n+1)+"</b>/"+p},x=l("div","showNum"),a.elem.appendChild(x)),z=a.navMenu,A=function(){g(z.children,function(a,b){b.classList[n==a?"add":"remove"]("curr")})},z)z=e(a.navMenu);else{for(z=l("div","navMenu"),B=1,C=[];p>=B;B++)C.push("<b></b>");z.innerHTML=C.join(" "),a.elem.appendChild(z)}f=function(c){var e=0;d||(k?(n=c,e=-(n*j.scrWidth+j.scrWidth),n=e>=0?p-1:e<-j.maxScrWidth-j.scrWidth?0:Math.round(Math.abs(e)/j.scrWidth)-1):(n=c,e=-(n*j.scrWidth),e<-j.maxScrWidth&&(e=0,n=0)),q(),F(),r(a.content),s(a.content,a.attr,e,1e3,function(){k&&(e>=0?(e=-j.maxScrWidth-j.scrWidth,a.content.style[a.attr]=e+b):e<-j.maxScrWidth-j.scrWidth&&(e=-j.scrWidth,a.content.style[a.attr]=e+b)),H(),a.onChange(n+1,o[n],p)}))},g(z.children,function(a,b){h(b,"click",function(){f(a)})}),D=a.autoTime,F=function(){},G=function(){},D&&(F=function(){G(),E=setInterval(function(){var c=0;d||(n++,H(),k?(c=-(n*j.scrWidth+j.scrWidth),c>=0?n=p-1:c<-j.maxScrWidth-j.scrWidth&&(n=0)):(c=-(n*j.scrWidth),c<-j.maxScrWidth&&(c=0,n=0)),q(),r(a.content),s(a.content,a.attr,c,1e3,function(){k&&(c>=0?(c=-j.maxScrWidth-j.scrWidth,a.content.style[a.attr]=c+b):c<-j.maxScrWidth-j.scrWidth&&(c=-j.scrWidth,a.content.style[a.attr]=c+b)),H(),a.onChange(n+1,o[n],p)}))},D)},G=function(){clearInterval(E)}),H=function(){var f,h,i,j,k,b=a.realSrc,d="_lazyloadtem",e=a.elem.querySelectorAll("img["+b+"]");e.length&&(f=window.getComputedStyle(a.content,null),h=parseInt(f.getPropertyValue(a.attr))||0,i=c.documentElement["clientWidth"]||c.body["clientWidth"],j=100,k=function(a){return a>=h-j&&i+h+j>a?!0:!1},g(e,function(a,c){var f,g,i,e=c.getAttribute(b);return e?(f=c.getBoundingClientRect(),g=f.left+h,i=c.offsetWidth,(k(g)||k(g+i))&&(c.setAttribute("src",e),c.removeAttribute(b),c.onload=function(){c.__bindKkey&&c.removeAttribute(d)}),void 0):(c.getAttribute(d)&&c.removeAttribute(d),void 0)}))},F(),q(),setTimeout(function(){H()},a.delay/2),i.addStartHooks(function(a,b,e){if(d)return a.isStart=!1,void 0;var f,g=0,h=c.body;for(f=e.target||e.srcElement;f&&f!=h;){if(1==f.nodeType){if(g++>10)return;if(f==b.content){a.isStart=!0,G();break}a.isStart=!1}f=f["parentNode"]}}),i.addMoveHooks(function(a,b){var d,e,f;G(),d=a.maxScrWidth,e=a.endPageX-a.startPageX,f=a.startX+e,k?e>0?f>-a.scrWidth&&(a.startX=-a.maxScrWidth-a.winWidth-a.scrWidth-(a.endPageX-a.startPageX)):f<-d-a.scrWidth&&(a.startX=-(a.startPageX-a.endPageX)):e>0?f>0&&(a.endPageX-=b.isOverMove?Math.abs(e)/1.5:e):-d>f&&(a.endPageX+=b.isOverMove?Math.abs(e)/1.5:Math.abs(f)-d)}),i.addMoveHooks(function(a,b){H(),r(b.content)}),i.addStopHooks(function(){H()}),i.addStopHooks(function(a,c){var f,i,e=0,g=0,h=0;e=a.endPageX-a.startPageX,Math.abs(e)<c.resetWidth?(s(c.content,c.attr,a.startX),F()):k?(e>0?(e+=h,c.moveInt&&(e=Math.ceil(Math.abs(e)/a.scrWidth)*a.scrWidth),f=a.startX+e):(e-=h,c.moveInt&&(e=-Math.ceil(Math.abs(e)/a.scrWidth)*a.scrWidth),f=a.startX+e),c.moveInt&&(i=f%a.scrWidth,0!=i&&(Math.abs(i)>a.scrWidth/2&&(i=a.scrWidth-Math.abs(i)),f=0==f+i%a.scrWidth?f+i:f-i)),f>=0?n=p-1:f<-a.maxScrWidth-a.scrWidth?n=0:(n=Math.round(Math.abs(f)/a.scrWidth)-1,0>n&&(n=0)),q(),s(c.content,c.attr,f,350,function(){f>=0?(f=-a.maxScrWidth-a.scrWidth,c.content.style[c.attr]=f+b):f<-a.maxScrWidth-a.scrWidth&&(f=-a.scrWidth,c.content.style[c.attr]=f+b),F(),H(),c.onChange(n+1,o[n],p)})):(c.isSpring&&(g=Math.abs(e)/(a.endTime-a.startTime),h=g*c.time*c.drag),e>0?(e+=h,c.moveInt&&(e=Math.ceil(Math.abs(e)/a.scrWidth)*a.scrWidth),f=a.startX+e,f>0&&(f=0)):(e-=h,c.moveInt&&(e=-Math.ceil(Math.abs(e)/a.scrWidth)*a.scrWidth),f=a.startX+e,f<-a.maxScrWidth&&(f=-a.maxScrWidth)),n=Math.round(Math.abs(f)/a.scrWidth),q(),s(c.content,c.attr,f,500,function(){F(),H(),c.onChange(n+1,o[n],p)}))})}},a.delay),{pause:function(){d=!0},play:function(){d=!1},setCurr:function(a){f(a)}}},a.CY.sliderUtil=t,t)});