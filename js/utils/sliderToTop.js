!function(a,b){if("undefined"!=typeof module)require("../libs/offset"),module.exports=b(a);else if(b(a),"function"==typeof define&&(define.amd||define.cmd)){var c="//"+(/ppppoints.com/.test(document.domain)?"j.ppppoints.com":"j.changyoyo.com")+"/static/js/";requirejs.config({paths:{offset:c+"libs/offset"}}),define("sliderToTop",["offset"],function(){return b(a)})}}(window||this,function(a){var b,c,d,f,g,h,i,j,k,l,o,p,q,r,t,u,v;return!a.CY&&(a.CY={}),a.CY.sliderToTop?a.CY.sliderToTop:(b=document,c=function(a){return Object.prototype.toString.call(a).split(/\s(\w+)/)[1].toLowerCase()},d=function(a,b){return a&&a instanceof Object?a:a?(b||document).querySelector(a):null},f=function(a,b){a=a||[];for(var c=0,d=a.length;d>c&&0!=b.call(a[c],c,a[c]);c++);},g=[],h=function(a,b,d){f("array"!=c(a)?[a]:a,function(a,c){b.split(" ").forEach(function(a){c.addEventListener(a,d,{passive:!1}),g.push({elem:c,type:a,handle:d})})})},i=function(a,b,c){b.split(" ").forEach(function(b){a.removeEventListener(b,c);for(var e,d=g.length-1;d>=0;d--)e=g[d],e.elem==a&&e.type==b&&e.handle==c&&g.splice(d,1)})},j=function(a,b){for(var d in b)b.hasOwnProperty(d)&&("object"!=c(b[d])?void 0!=b[d]&&(a[d]=b[d]):a[d]=j(a[d]||{},b[d]));return a},k=function(a,c){a=b.createElement(a);for(var d in c)c.hasOwnProperty(d)&&("style"==d?j(a.style,c[d]):a[d]=c[d]);return a},l=function(b,c){return a.getComputedStyle?a.getComputedStyle(b,null)[c]:b.currentStyle[c]},p=[],q=function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},r=function(a,b,c,d){return c*a/d+b},t=function(a,b,c,d,e,f,g){var s,t,h=window.getComputedStyle(a,null),i=parseInt(h.getPropertyValue(b.replace(/([A-Z])/g,"-$1").toLowerCase()))||0,j=0,k=d||500,l=+new Date,m=Math.abs(i-c),n=c>i?!0:!1,u="px",v=function(c){return k>j&&!c?(j=+new Date-l,s=f?r(j,0,m,k):q(j,0,m,k),t=n?i+s:i-s,a.style[b]=t+u,g&&g(t),void 0):(t=n?i+m:i-m,a.style[b]=t+u,g&&g(t),e&&e(),!0)};return v.elem=a,v.callback=function(){return e&&e(),!0},p&&p.length?p.push(v):(p=[v],clearInterval(o),o=setInterval(function(){for(var a=p.length-1;a>=0;a--)p[a]()&&p.splice(a,1)},15),void 0)},u=function(){var g,i,j,k,l,m,a=/Android|webOS|iphone|ipod|ipad|BlackBerry/i.test(navigator.userAgent),c="mousedown",d="mousemove",e="mouseup";return a&&(c="touchstart",d="touchmove",e="touchend"),g=[],i=[],j=[],k={startX:0,startY:0,endX:0,endY:0,startTime:0,endTime:0},l=function(){return a?function(a,b){return a.changedTouches[0]["page"+b]}:function(a,b){return a["page"+b]}}(),m=function(){return+new Date},h(b,c,function(a){var b=!1;f(g,function(c,d){return b=0==d(a,k)?!1:!0,!!b}),k.isStart=b,k.isStart&&(k.startTime=m(),k.startX=l(a,"X"),k.startY=l(a,"Y"))}),h(b,d,function(a){k.isStart&&(k.endX=l(a,"X"),k.endY=l(a,"Y"),f(i,function(b,c){c(a,k)}))}),h(b,e,function(a){k.isStart&&(k.endTime=m(),k.endX=l(a,"X"),k.endY=l(a,"Y"),f(j,function(b,c){c(a,k)}),k.isStart=!1)}),{addStartHooks:function(a){g.push(a)},addMoveHooks:function(a){i.push(a)},addStopHooks:function(a){j.push(a)}}},v=function(a){var c,e,h,m,n,o,p,q,r,s,w,x,y,z,A,B,D,E,F,G,H,I,K,L,M,N,O,P,Q;return this instanceof v?(a=Object.assign({elem:"",resetElem:"",moveElem:"",time:400,top:0,resetWidth:30},a),c=d(a.elem),e=d(a.moveElem),h=d(a.resetElem),c?(!e&&(e=c),m=[],n=[],o=[],p=[],q=[],r=[],a.onScroll&&p.push(a.onScroll),a.onStart&&m.push(a.onStart),a.onMove&&n.push(a.onMove),a.onStop&&o.push(a.onStop),a.onArriveTop&&q.push(a.onArriveTop),a.onArriveBot&&r.push(a.onArriveBot),p.push(function(){var a=document.createEvent("HTMLEvents");a.initEvent("scroll",!0,!0),c&&c.dispatchEvent(a)}),o.push(function(){N=!1,O=!1}),s=function(){return(l(c,"top")||"0").replace(/[^-|.|\d]/g,"")},w=l(c,"position"),x=c.offsetWidth,y=s(),z=0,A=0,B=function(){return z},D=function(){l(c,"position")==w&&(z=CY.offset(c).top||0)},E=k("div",{className:"toTopmask",style:{transition:"background-color .7s",overflow:"hidden",position:"fixed",zIndex:9,top:0,right:0,bottom:0,left:0}}),F=function(){E.parentNode||(c.parentNode.insertBefore(E,c),j(c.style,{position:"absolute",width:x+I,top:A+I}),E.appendChild(c)),E.style.backgroundColor="rgba(0, 0, 0, 0)",setTimeout(function(){E.style.backgroundColor="rgba(0, 0, 0, 0.18)"},13)},G=function(){E.parentNode&&(j(c.style,{width:x+I,top:y+I,position:w}),E.parentNode.insertBefore(c,E),E.parentNode.removeChild(E))},H=!1,I="px",K=function(b){var f=A+b;return 0>b?f<a.top&&(f=a.top):b>0&&f>B()&&(f=B()),j(c.style,{top:f+I}),f},L=function(b,d,e){var g=0,h=!1,i=Math.abs(b);0>b?(g=a.top,i<a.resetWidth&&(g=B(),h=!0)):(g=B(),i<a.resetWidth&&(g=a.top,h=!0)),new t(c,"top",g,a.time,function(){h?b>0?(A=a.top,f(q,function(a,b){b(A,d,e)})):(G(),D(),A=g,f(r,function(a,b){b(A,d,e)})):b>0?(G(),D(),A=g,f(r,function(a,b){b(A,d,e)})):(A=a.top,f(q,function(a,b){b(A,d,e)})),f(o,function(a,b){b(A,d,e)})},!1,function(a){f(p,function(b,c){c(a,E)})})},D(),M=new u,N=!1,O=!1,P=!0,M.addStartHooks(function(c){var f,g=b.body,i=!1;for(f=c.target||c.srcElement;f&&f!=g;){if(1==f.nodeType&&(f==e||f==h)){if(!h){i=!0,O=!1;break}P&&(A=B(),P=!1),(f==h||f==e&&A!=a.top||A==a.top&&f==h&&f==e)&&(i=!0,O=!1)}f=f["parentNode"]}return N?!1:i}),M.addMoveHooks(function(a,b){var c,d,e,g;return H?!H:(c=b.endX-b.startX,d=b.endY-b.startY,e=Math.abs(d),g=Math.abs(c),!O&&!N&&e>g&&e!=g&&(a.preventDefault(),f(m,function(c,d){d(A,a,b)}),N=!0,D(),F()),!N&&(O=!0),!O&&N&&(a.preventDefault(),d=K(d,a,b),f(p,function(a,b){b(d,E)}),f(n,function(c,e){e(d,a,b)})),void 0)}),M.addStopHooks(function(a,b){N&&L(b.endY-b.startY,a,b)}),Q={pause:function(){H=!0},play:function(){H=!1},onArriveTop:function(a){q.push(a)},onArriveBot:function(a){r.push(a)},destroy:function(){for(var b,a=g.length-1;a>=0;a--)b=g[a],i(b.elem,b.type,b.handle)}}):void 0):new v(a)},a.CY.sliderToTop=v,v)});